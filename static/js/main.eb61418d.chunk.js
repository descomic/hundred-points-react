(this.webpackJsonphundred_points=this.webpackJsonphundred_points||[]).push([[0],{195:function(e,t,a){},197:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a(0),s=a.n(n),c=a(15),l=a.n(c),i=a(24),d=a(25),h=a(10),o=a(28),j=a(27),u=a(41),b=a(7),y=a(204),O=a(212),p=a(205),x=a(202),m=a(83),v=a(207),f=a(206),P=a(203),g=a(42),N=a(208);a(96);var S=function(e){var t=e.players,a=e.handleDeletePlayer,n=t.map((function(e){return Object(r.jsx)(N.a.Item,{children:Object(r.jsxs)(x.a,{children:[Object(r.jsx)(m.a,{sm:10,xs:10,children:Object(r.jsx)("span",{className:"player-name",children:e})}),Object(r.jsx)(m.a,{sm:1,xs:1,children:Object(r.jsx)(P.a,{size:"sm",variant:"light",onClick:function(t){return a(t,e)},children:"X"})})]})},e)}));return Object(r.jsx)(N.a,{variant:"flush",children:n})},D=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={players:e.players,newPlayerName:"",errorMessage:"Empty name",alertMessage:""},r.parentHandleAddPlayer=e.parentHandleAddPlayer,r.parentHandleDeletePlayer=e.handleDeletePlayer,r.verifyName=r.verifyName.bind(Object(h.a)(r)),r.handleNameChange=r.handleNameChange.bind(Object(h.a)(r)),r.handleAddPlayer=r.handleAddPlayer.bind(Object(h.a)(r)),r.handleDeletePlayer=r.handleDeletePlayer.bind(Object(h.a)(r)),r}return Object(d.a)(a,[{key:"verifyName",value:function(e){return""===e?(this.setState({errorMessage:"Empty name"}),!1):this.state.players.includes(e)?(this.setState({errorMessage:"Duplicate name"}),!1):(this.setState({errorMessage:""}),!0)}},{key:"handleNameChange",value:function(e){this.setState({newPlayerName:e.target.value}),this.verifyName(e.target.value)}},{key:"handleAddPlayer",value:function(e){e.preventDefault();var t=this.state.players.slice(),a=this.state.newPlayerName.slice();this.verifyName(a)?this.state.players.includes(a)?alert("The player ".concat(a," already exists.")):(t.push(a),this.parentHandleAddPlayer(a),this.setState({players:t,newPlayerName:""})):alert(this.state.errorMessage)}},{key:"handleDeletePlayer",value:function(e,t){var a=this;e.preventDefault(),this.parentHandleDeletePlayer(e,t,(function(){return a.setState({players:a.props.players,alertMessage:"".concat(t," deleted")})}))}},{key:"render",value:function(){var e=this,t=Object(r.jsx)(y.a,{id:"tooltip-add-button",show:""!==this.state.errorMessage,children:this.state.errorMessage});return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:""===this.state.alertMessage?null:Object(r.jsx)(O.a,{variant:"success",dismissible:!0,onClose:function(){return e.setState({alertMessage:""})},children:this.state.alertMessage})}),Object(r.jsxs)(p.a,{children:[Object(r.jsx)(x.a,{className:"mt-4",children:Object(r.jsx)(m.a,{children:Object(r.jsx)("h2",{children:"Preparing the game"})})}),Object(r.jsxs)(x.a,{className:"mt-4",xs:1,lg:2,children:[Object(r.jsx)(m.a,{children:Object(r.jsx)(S,{players:this.state.players,handleDeletePlayer:this.handleDeletePlayer})}),Object(r.jsxs)(m.a,{children:[Object(r.jsxs)(v.a,{className:"mt-3 AddForm",onSubmit:this.handleAddPlayer,children:[Object(r.jsx)(x.a,{children:Object(r.jsx)(m.a,{children:Object(r.jsx)(v.a.Label,{children:"Add Player: "})})}),Object(r.jsxs)(x.a,{className:"m-4",children:[Object(r.jsx)(m.a,{children:Object(r.jsx)(v.a.Control,{value:this.state.newPlayerName,onChange:this.handleNameChange,placeholder:"Player's name"})}),Object(r.jsx)(m.a,{children:Object(r.jsx)(f.a,{placement:"top",overlay:t,children:Object(r.jsx)(P.a,{type:"submit",variant:"secondary",disabled:""!==this.state.errorMessage,children:"Add"})})})]})]}),Object(r.jsx)(x.a,{children:Object(r.jsx)(m.a,{children:Object(r.jsx)(g.LinkContainer,{to:"/hundred-points-react/game",children:Object(r.jsx)(P.a,{variant:"primary",size:"lg",children:"Play"})})})})]})]})]})]})}}]),a}(s.a.Component),w=a(210),k=a(211);var C=function(e){var t=e.index,a=e.name,n=e.score,s=e.newScore,c=e.handleNewPlayerScore;return Object(r.jsxs)(k.a,{children:[Object(r.jsx)(w.a.Toggle,{as:k.a.Header,eventKey:a,children:Object(r.jsx)(p.a,{children:Object(r.jsxs)(x.a,{children:[Object(r.jsx)(m.a,{children:a}),Object(r.jsx)(m.a,{children:n}),Object(r.jsx)(m.a,{children:parseInt(n)+parseInt(s)})]})})}),Object(r.jsx)(w.a.Collapse,{eventKey:a,children:Object(r.jsx)(k.a.Body,{children:Object(r.jsx)(v.a,{onSubmit:function(e){return e.preventDefault()},children:Object(r.jsxs)(v.a.Group,{as:x.a,children:[Object(r.jsx)(m.a,{children:Object(r.jsx)(v.a.Label,{htmlFor:a,column:!0,children:"New Score"})}),Object(r.jsx)(m.a,{children:Object(r.jsx)(v.a.Control,{id:a,value:s,onChange:function(e){return c(e,t)},type:"text",pattern:"[0-9]*"})})]})})})})]})};a(99);function M(e,t){return e.score>t.score?1:e.score<t.score?-1:0}var A=a(85),H=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(e){var r;Object(i.a)(this,a),r=t.call(this,e);var n=e.players.slice().map((function(e){return{name:e,color:"rgba(".concat(Math.floor(255*Math.random()),", ").concat(Math.floor(255*Math.random()),", ").concat(Math.floor(255*Math.random()),", 1)"),score:0,newScore:0}}));return r.state={round:1,players:n,history:n.map((function(e){var t={};return Object.assign(t,e),t.score=[],delete t.newScore,t})),chartData:{data:{labels:[],datasets:[]}}},r.handleNewPlayerScore=r.handleNewPlayerScore.bind(Object(h.a)(r)),r.handleNextRound=r.handleNextRound.bind(Object(h.a)(r)),r.renderPlayer=r.renderPlayer.bind(Object(h.a)(r)),r.updateHistory=r.updateHistory.bind(Object(h.a)(r)),r.updateChartData=r.updateChartData.bind(Object(h.a)(r)),r}return Object(d.a)(a,[{key:"handleNewPlayerScore",value:function(e,t){e.preventDefault();var a=this.state.players.slice();a[t].newScore=parseInt(""===e.target.value?0:e.target.value),this.setState({players:a})}},{key:"handleNextRound",value:function(e){e.preventDefault();var t=this.state.players.map((function(e){return{name:e.name,score:e.score+e.newScore,newScore:0}})).sort(M),a=this.updateHistory(t);this.setState({round:this.state.round+1,players:t,history:a,chartData:this.updateChartData(this.state.round+1,a)})}},{key:"updateHistory",value:function(e){var t=this.state.history;return t.forEach((function(t){t.score.push(e.find((function(e){return e.name===t.name})).score)})),t}},{key:"updateChartData",value:function(e,t){return{labels:Array(e).fill().map((function(e,t){return t+1})),datasets:t.map((function(e){return{label:e.name,fill:!1,backgroundColor:e.color,borderColor:e.color,borderWidth:2,data:e.score}}))}}},{key:"renderPlayer",value:function(e,t){return Object(r.jsx)(C,{index:t,name:e.name,score:e.score,newScore:e.newScore,handleNewPlayerScore:this.handleNewPlayerScore},e.score+e.name)}},{key:"render",value:function(){var e=this.state.players.map(this.renderPlayer);return Object(r.jsxs)(p.a,{children:[Object(r.jsxs)(x.a,{className:"game-header mt-3",children:[Object(r.jsx)(m.a,{children:Object(r.jsxs)("h2",{children:["Round ",this.state.round]})}),Object(r.jsx)(m.a,{children:Object(r.jsx)(P.a,{as:"input",type:"button",className:"next-round-button",value:"Next round",onClick:this.handleNextRound})})]}),Object(r.jsx)(x.a,{noGutters:!0,className:"mt-4",children:Object(r.jsxs)(m.a,{children:[Object(r.jsxs)(x.a,{className:"m-auto",children:[Object(r.jsx)(m.a,{className:"m-auto",children:Object(r.jsx)("h3",{children:"Name"})}),Object(r.jsx)(m.a,{className:"m-auto",children:Object(r.jsx)("h3",{children:"Score"})}),Object(r.jsx)(m.a,{className:"m-auto",children:Object(r.jsx)("h3",{children:"Next score"})})]}),Object(r.jsx)(x.a,{children:Object(r.jsx)(m.a,{children:Object(r.jsx)(w.a,{children:e})})})]})}),Object(r.jsx)(x.a,{className:"mt-5",children:Object(r.jsx)(m.a,{children:Object(r.jsx)(A.Line,{data:this.state.chartData,options:{title:{display:!0,text:"Evolution of the score",fontSize:20},legend:{display:!0,position:"right"}}})})})]})}}]),a}(s.a.Component),R=a(209);var E=function(){return Object(r.jsx)(R.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(r.jsx)(g.LinkContainer,{exact:!0,to:"/hundred-points-react/",children:Object(r.jsx)(R.a.Brand,{children:"100 points"})})})},I=(a(195),function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={players:[]},r.addPlayer=r.addPlayer.bind(Object(h.a)(r)),r.handleDeletePlayer=r.handleDeletePlayer.bind(Object(h.a)(r)),r}return Object(d.a)(a,[{key:"addPlayer",value:function(e){var t=this.state.players.slice();t.push(e),this.setState({players:t})}},{key:"handleDeletePlayer",value:function(e,t,a){e.preventDefault();var r=this.state.players.filter((function(e){return e!==t}));this.setState({players:r},a),console.log(r)}},{key:"render",value:function(){return Object(r.jsx)("div",{className:"app",children:Object(r.jsxs)(u.BrowserRouter,{children:[Object(r.jsx)(E,{}),Object(r.jsxs)(b.g,{children:[Object(r.jsx)(b.d,{exact:!0,path:"/",children:Object(r.jsx)(b.c,{to:"/hundred-points-react"})}),Object(r.jsx)(b.d,{exact:!0,path:"/hundred-points-react",children:Object(r.jsx)(D,{players:this.state.players,parentHandleAddPlayer:this.addPlayer,handleDeletePlayer:this.handleDeletePlayer})}),Object(r.jsx)(b.d,{path:"/hundred-points-react/game",children:Object(r.jsx)(H,{players:this.state.players.slice()})})]})]})})}}]),a}(s.a.Component));a(196);l.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(I,{})}),document.getElementById("root"))},96:function(e,t,a){},99:function(e,t,a){}},[[197,1,2]]]);
//# sourceMappingURL=main.eb61418d.chunk.js.map